import { Component, EventEmitter, Input, Output } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../directives/click-outside.directive";
export class TableComponent {
    constructor(elem) {
        this.elem = elem;
        this.isLoading = true;
        this.customSortable = false;
        this.sortable = true;
        this.tableClass = '';
        this.tableId = 'cb-table';
        this.customSort = new EventEmitter();
        this.rowClick = new EventEmitter();
        this.dropdownOpen = false;
        this.currentValueChange = new EventEmitter();
        this.actionClick = new EventEmitter();
    }
    get dropdownElement() { return this.elem.nativeElement.querySelector('.dropdown-list'); }
    ngOnInit() {
        // if (this.columns != undefined && this.sortable) {
        //   let first_sortable_column = this.columns.filter((column: TableColumn) => {
        //     return column.sortable;
        //   });
        //   this.sort = {
        //     column: first_sortable_column[0].key,
        //     direction: 1,
        //   };
        // }
    }
    onRowItemClick1(data) {
        this.selectedRow = data;
        this.rowClick.emit(data);
    }
    actionClicked(data) {
        this.actionClick.emit(data);
    }
    closeDropdown() {
        this.dropdownElement.setAttribute('aria-expanded', "false");
        this.dropdownOpen = false;
    }
    select(value) {
        this.closeDropdown();
        this.currentValueChange.emit(value);
    }
    toggleDropdown(id) {
        this.clickedRow = id;
        this.dropdownOpen = !this.dropdownOpen;
        this.dropdownElement.setAttribute('aria-expanded', this.dropdownOpen ? "true" : "false");
    }
    onSortColumn(column) {
        if (this.sortable && column.sortable && !this.customSortable) {
            if (this.sort.direction == 1) {
                this.sort.direction = -1;
            }
            else {
                this.sort.direction = 1;
            }
            if (this.rows != undefined) {
                this.rows.sort((a, b) => {
                    a = a[column.key].value.toString().toLowerCase();
                    b = b[column.key].value.toString().toLowerCase();
                    return a.localeCompare(b) * this.sort.direction;
                });
            }
            this.sort.column = column.key;
        }
        else if (this.customSortable) {
            if (this.sort.direction == 1) {
                this.sort.direction = -1;
            }
            else {
                this.sort.direction = 1;
            }
            this.sort.column = column.key;
            this.customSort.emit(this.sort);
        }
    }
}
TableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.0.1", ngImport: i0, type: TableComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });
TableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.0.1", type: TableComponent, selector: "cb-table", inputs: { sort: "sort", isLoading: "isLoading", customSortable: "customSortable", sortable: "sortable", columns: "columns", rows: "rows", actionDropdownItems: "actionDropdownItems", tableClass: "tableClass", tableId: "tableId", actions: "actions" }, outputs: { customSort: "customSort", rowClick: "rowClick", currentValueChange: "currentValueChange", actionClick: "actionClick" }, ngImport: i0, template: "<table class=\"table {{ tableClass }}\" id=\"{{ tableId }}\">\n  <thead>\n    <tr>\n      <th colspan=\"14\" class=\"colspaned\">\n        <table class=\"nested-table\">\n          <colgroup>\n            <col\n              class=\"{{ column.className }}\"\n              *ngFor=\"let column of columns\"\n            />\n          </colgroup>\n          <tr>\n            <th\n              *ngFor=\"let column of columns\"\n              (click)=\"onSortColumn(column)\"\n              class=\"{{ column.className }}\"\n              [ngClass]=\"{\n                sort: column.sortable && sortable\n              }\"\n            >\n              <ng-container *ngIf=\"column.type != 'action'\">\n                {{ column.label }}\n                <img\n                  *ngIf=\"\n                    sort.column == column.key &&\n                    sort.direction == 1 &&\n                    column.sortable &&\n                    sortable\n                  \"\n                  src=\"./assets/icons/arrowdown.svg\"\n                  alt=\"asc\"\n                />\n                <img\n                  *ngIf=\"\n                    sort.column == column.key &&\n                    sort.direction == -1 &&\n                    column.sortable &&\n                    sortable\n                  \"\n                  src=\"./assets/icons/arrowup.svg\"\n                  alt=\"desc\"\n                />\n              </ng-container>\n              <ng-container *ngIf=\"column.type == 'action'\">\n                <button\n                  class=\"settings-btn\"\n                  *ngIf=\"column.label === '' && column.showGear\"\n                >\n                  <img src=\"./assets/icons/nav-bar/settings.svg\" />\n                </button>\n                <ng-container *ngIf=\"column.label !== ''\">{{\n                  column.label\n                }}</ng-container>\n              </ng-container>\n            </th>\n          </tr>\n        </table>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class=\"no-data-row\" *ngIf=\"rows.length === 0 && !isLoading\">\n      <td colspan=\"13\">\n        <span class=\"text\">No records available!</span>\n      </td>\n    </tr>\n    <ng-container *ngIf=\"rows.length > 0\">\n      <tr\n        class=\"expandable\"\n        *ngFor=\"let data of rows; let id = index\"\n        (click)=\"onRowItemClick1(data)\"\n      >\n        <td colspan=\"14\" class=\"colspaned\">\n          <table class=\"nested-table\">\n            <colgroup>\n              <col\n                class=\"{{ column.className }}\"\n                *ngFor=\"let column of columns\"\n              />\n            </colgroup>\n            <tr>\n              <td\n                [attr.data-label]=\"column.label\"\n                *ngFor=\"let column of columns\"\n                class=\"{{ column.className }}\"\n                [ngClass]=\"{\n                  'icon-td':\n                    column.type === 'img-text' || column.type === 'avatar',\n                  actions: column.type === 'action'\n                }\"\n              >\n                <ng-container *ngIf=\"column.type == 'linked'\">\n                  <a\n                    *ngIf=\"data[column.key].img\"\n                    (click)=\"actionClicked({data, action: 'linked-click'});$event.stopPropagation()\"\n                    class=\"link-icon\"\n                    ><img src=\"{{ data[column.key].img }}\" alt=\"Link\"\n                  /></a>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'normal'\">\n                  {{ data[column.key].value }}\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge-with-date'\">\n                  {{ data[column.key].value }}\n                  <div>\n                    <small class=\"text-small grey-text\">{{\n                      data[column.key].badgeLabel\n                    }}</small>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'currency'\">\n                  {{ data[column.key].value | currency: column.currencyType }}\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'status'\">\n                  <span class=\"status {{ data[column.key].value }}\"></span>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'img-progress'\">\n                  <div>\n                    <img\n                      *ngIf=\"data[column.key].img\"\n                      [src]=\"data[column.key].img\"\n                      alt=\"Flag\"\n                    />\n                    {{ data[column.key].label }}\n                  </div>\n                  <div class=\"progress-bar-lined\">\n                    <div\n                      class=\"progress-indication {{ data[column.key].status }}\"\n                      [ngStyle]=\"{ width: data[column.key].value }\"\n                    ></div>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'text-medium'\">\n                  <span class=\"text-medium\">{{ data[column.key].value }}</span>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'img-text'\">\n                  <div>\n                    <img\n                      src=\"{{ data[column.key].img }}\"\n                      alt=\"{{ column.label }}\"\n                    />\n                    {{ data[column.key].value }}\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'avatar'\">\n                  <div class=\"avatar {{ data[column.key].avatar }}\">\n                    <span>{{ data[column.key].value }}</span>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge'\">\n                  <label class=\"badge {{ data[column.key].value }}\">{{\n                    data[column.key].label\n                  }}</label>\n                  <img\n                    (click)=\"actionClicked({data, action: 'badge-img-click'});$event.stopPropagation()\"\n                    *ngIf=\"data[column.key].img\"\n                    class=\"mt2\"\n                    src=\"{{ data[column.key].img }}\"\n                    alt=\"{{ column.label }}\"\n                  />\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge-label'\">\n                  <span class=\"badge mr2 {{ data[column.key].status }}\"\n                    >&nbsp;{{ data[column.key].badgeLabel }}</span\n                  >{{ data[column.key].value }}\n                </ng-container>\n                <div class=\"list-action\" *ngIf=\"column.type == 'action'\">\n                  <ng-container *ngFor=\"let action of actions; let i = index\">\n                    <button\n                      *ngIf=\"\n                        action.isButton && data[column.key][i] && action.img\n                      \"\n                      (click)=\"actionClicked({data, action: action.value});$event.stopPropagation()\"\n                      class=\"{{ action.className }}\"\n                    >\n                      <img [src]=\"action.img\" />\n                    </button>\n                    <div\n                      id=\"{{ id }}\"\n                      class=\"customdropdown\"\n                      *ngIf=\"action.isDropdown && data['actionDropdownItems']\"\n                    >\n                      <a\n                        aria-haspopup=\"listbox\"\n                        aria-labelledby=\"dropdown-label\"\n                        (click)=\"toggleDropdown(id); $event.stopPropagation()\"\n                        (clickOutside)=\"dropdownOpen = false\"\n                      >\n                        <img [src]=\"action.img\" />\n                      </a>\n                      <ul\n                        class=\"dropdown-list\"\n                        role=\"listbox\"\n                        aria-expanded=\"false\"\n                        [ngClass]=\"{\n                          'dropdown-open': dropdownOpen && id == clickedRow\n                        }\"\n                      >\n                        <li\n                          *ngFor=\"let o of data['actionDropdownItems']\"\n                          tabindex=\"0\"\n                          (click)=\"actionClicked({data, action: o.value});$event.stopPropagation()\"\n                          role=\"option\"\n                          [innerHTML]=\"o.key\"\n                        ></li>\n                      </ul>\n                    </div>\n                    <button\n                      *ngIf=\"\n                        !action.img && data[column.key][i] && action.isButton\n                      \"\n                      (click)=\"actionClicked({data, action: action.value});$event.stopPropagation()\"\n                      class=\"{{ action.className }}\"\n                    >\n                      {{ action.label }}\n                    </button>\n                  </ng-container>\n                </div>\n              </td>\n            </tr>\n            <tr class=\"expanded\" *ngFor=\"let order of data.linkedOrders\">\n              <td\n                [attr.data-label]=\"column.label\"\n                *ngFor=\"let column of columns\"\n                class=\"{{ column.className }}\"\n                [ngClass]=\"{\n                  'icon-td':\n                    column.type === 'img-text' || column.type === 'avatar',\n                  actions: column.type === 'action',\n                  linked: column.type === 'linked'\n                }\"\n              >\n                <ng-container *ngIf=\"column.type == 'linked'\">\n                  <span class=\"h-line\"></span>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'normal'\">\n                  {{ order[column.key].value }}\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge-with-date'\">\n                  {{ order[column.key].value }}\n                  <div>\n                    <small class=\"text-small grey-text\">{{\n                      order[column.key].badgeLabel\n                    }}</small>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'currency'\">\n                  {{ order[column.key].value | currency: column.currencyType }}\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'status'\">\n                  <!-- <span class=\"status {{ order[column.key].value }}\"></span> -->\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'img-progress'\">\n                  <div>\n                    <img\n                      *ngIf=\"order[column.key].img\"\n                      [src]=\"order[column.key].img\"\n                      alt=\"Flag\"\n                    />\n                    {{ order[column.key].label }}\n                  </div>\n                  <div class=\"progress-bar-lined\">\n                    <div\n                      class=\"progress-indication {{ order[column.key].status }}\"\n                      [ngStyle]=\"{ width: order[column.key].value }\"\n                    ></div>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'text-medium'\">\n                  <span class=\"text-medium\">{{ order[column.key].value }}</span>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'img-text'\">\n                  <div>\n                    <img\n                      src=\"{{ order[column.key].img }}\"\n                      alt=\"{{ column.label }}\"\n                    />\n                    {{ order[column.key].value }}\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'avatar'\">\n                  <div class=\"avatar {{ order[column.key].avatar }}\">\n                    <span>{{ order[column.key].value }}</span>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge'\">\n                  <label class=\"badge {{ order[column.key].value }}\">{{\n                    order[column.key].label\n                  }}</label>\n                  <img\n                    (click)=\"actionClicked({order, action: 'badge-img-click'});$event.stopPropagation()\"\n                    *ngIf=\"order[column.key].img\"\n                    class=\"mt2\"\n                    src=\"{{ order[column.key].img }}\"\n                    alt=\"{{ column.label }}\"\n                  />\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge-label'\">\n                  <span class=\"badge mr2 {{ order[column.key].status }}\"\n                    >&nbsp;{{ order[column.key].badgeLabel }}</span\n                  >{{ order[column.key].value }}\n                </ng-container>\n                <div class=\"list-action\" *ngIf=\"column.type == 'action'\">\n                  <ng-container *ngFor=\"let action of actions; let i = index\">\n                    <button\n                      *ngIf=\"\n                        action.isButton && order[column.key][i] && action.img\n                      \"\n                      (click)=\"actionClicked({order, action: action.value+'-linked'});$event.stopPropagation()\"\n                      class=\"{{ action.className }}\"\n                    >\n                      <img [src]=\"action.img\" />\n                    </button>\n                    <div\n                      id=\"{{ id }}\"\n                      class=\"customdropdown\"\n                      *ngIf=\"action.isDropdown && order['actionDropdownItems']\"\n                    >\n                      <a\n                        aria-haspopup=\"listbox\"\n                        aria-labelledby=\"dropdown-label\"\n                        (click)=\"toggleDropdown(id); $event.stopPropagation()\"\n                        (clickOutside)=\"dropdownOpen = false\"\n                      >\n                        <img [src]=\"action.img\" />\n                      </a>\n                      <ul\n                        class=\"dropdown-list\"\n                        role=\"listbox\"\n                        aria-expanded=\"false\"\n                        [ngClass]=\"{\n                          'dropdown-open': dropdownOpen && id == clickedRow\n                        }\"\n                      >\n                        <li\n                          *ngFor=\"let o of order['actionDropdownItems']\"\n                          tabindex=\"0\"\n                          (click)=\"actionClicked({order, action: o.value+'-linked'});$event.stopPropagation()\"\n                          role=\"option\"\n                          [innerHTML]=\"o.key\"\n                        ></li>\n                      </ul>\n                    </div>\n                    <button\n                      *ngIf=\"\n                        !action.img && order[column.key][i] && action.isButton\n                      \"\n                      (click)=\"actionClicked({order, action: action.value+'-linked'});$event.stopPropagation()\"\n                      class=\"{{ action.className }}\"\n                    >\n                      {{ action.label }}\n                    </button>\n                  </ng-container>\n                </div>\n              </td>\n            </tr>\n          </table>\n        </td>\n      </tr>\n    </ng-container>\n  </tbody>\n</table>\n", styles: [""], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { kind: "directive", type: i2.ClickOutsideDirective, selector: "[clickOutside]", outputs: ["clickOutside"] }, { kind: "pipe", type: i1.CurrencyPipe, name: "currency" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.0.1", ngImport: i0, type: TableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cb-table', template: "<table class=\"table {{ tableClass }}\" id=\"{{ tableId }}\">\n  <thead>\n    <tr>\n      <th colspan=\"14\" class=\"colspaned\">\n        <table class=\"nested-table\">\n          <colgroup>\n            <col\n              class=\"{{ column.className }}\"\n              *ngFor=\"let column of columns\"\n            />\n          </colgroup>\n          <tr>\n            <th\n              *ngFor=\"let column of columns\"\n              (click)=\"onSortColumn(column)\"\n              class=\"{{ column.className }}\"\n              [ngClass]=\"{\n                sort: column.sortable && sortable\n              }\"\n            >\n              <ng-container *ngIf=\"column.type != 'action'\">\n                {{ column.label }}\n                <img\n                  *ngIf=\"\n                    sort.column == column.key &&\n                    sort.direction == 1 &&\n                    column.sortable &&\n                    sortable\n                  \"\n                  src=\"./assets/icons/arrowdown.svg\"\n                  alt=\"asc\"\n                />\n                <img\n                  *ngIf=\"\n                    sort.column == column.key &&\n                    sort.direction == -1 &&\n                    column.sortable &&\n                    sortable\n                  \"\n                  src=\"./assets/icons/arrowup.svg\"\n                  alt=\"desc\"\n                />\n              </ng-container>\n              <ng-container *ngIf=\"column.type == 'action'\">\n                <button\n                  class=\"settings-btn\"\n                  *ngIf=\"column.label === '' && column.showGear\"\n                >\n                  <img src=\"./assets/icons/nav-bar/settings.svg\" />\n                </button>\n                <ng-container *ngIf=\"column.label !== ''\">{{\n                  column.label\n                }}</ng-container>\n              </ng-container>\n            </th>\n          </tr>\n        </table>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class=\"no-data-row\" *ngIf=\"rows.length === 0 && !isLoading\">\n      <td colspan=\"13\">\n        <span class=\"text\">No records available!</span>\n      </td>\n    </tr>\n    <ng-container *ngIf=\"rows.length > 0\">\n      <tr\n        class=\"expandable\"\n        *ngFor=\"let data of rows; let id = index\"\n        (click)=\"onRowItemClick1(data)\"\n      >\n        <td colspan=\"14\" class=\"colspaned\">\n          <table class=\"nested-table\">\n            <colgroup>\n              <col\n                class=\"{{ column.className }}\"\n                *ngFor=\"let column of columns\"\n              />\n            </colgroup>\n            <tr>\n              <td\n                [attr.data-label]=\"column.label\"\n                *ngFor=\"let column of columns\"\n                class=\"{{ column.className }}\"\n                [ngClass]=\"{\n                  'icon-td':\n                    column.type === 'img-text' || column.type === 'avatar',\n                  actions: column.type === 'action'\n                }\"\n              >\n                <ng-container *ngIf=\"column.type == 'linked'\">\n                  <a\n                    *ngIf=\"data[column.key].img\"\n                    (click)=\"actionClicked({data, action: 'linked-click'});$event.stopPropagation()\"\n                    class=\"link-icon\"\n                    ><img src=\"{{ data[column.key].img }}\" alt=\"Link\"\n                  /></a>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'normal'\">\n                  {{ data[column.key].value }}\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge-with-date'\">\n                  {{ data[column.key].value }}\n                  <div>\n                    <small class=\"text-small grey-text\">{{\n                      data[column.key].badgeLabel\n                    }}</small>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'currency'\">\n                  {{ data[column.key].value | currency: column.currencyType }}\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'status'\">\n                  <span class=\"status {{ data[column.key].value }}\"></span>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'img-progress'\">\n                  <div>\n                    <img\n                      *ngIf=\"data[column.key].img\"\n                      [src]=\"data[column.key].img\"\n                      alt=\"Flag\"\n                    />\n                    {{ data[column.key].label }}\n                  </div>\n                  <div class=\"progress-bar-lined\">\n                    <div\n                      class=\"progress-indication {{ data[column.key].status }}\"\n                      [ngStyle]=\"{ width: data[column.key].value }\"\n                    ></div>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'text-medium'\">\n                  <span class=\"text-medium\">{{ data[column.key].value }}</span>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'img-text'\">\n                  <div>\n                    <img\n                      src=\"{{ data[column.key].img }}\"\n                      alt=\"{{ column.label }}\"\n                    />\n                    {{ data[column.key].value }}\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'avatar'\">\n                  <div class=\"avatar {{ data[column.key].avatar }}\">\n                    <span>{{ data[column.key].value }}</span>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge'\">\n                  <label class=\"badge {{ data[column.key].value }}\">{{\n                    data[column.key].label\n                  }}</label>\n                  <img\n                    (click)=\"actionClicked({data, action: 'badge-img-click'});$event.stopPropagation()\"\n                    *ngIf=\"data[column.key].img\"\n                    class=\"mt2\"\n                    src=\"{{ data[column.key].img }}\"\n                    alt=\"{{ column.label }}\"\n                  />\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge-label'\">\n                  <span class=\"badge mr2 {{ data[column.key].status }}\"\n                    >&nbsp;{{ data[column.key].badgeLabel }}</span\n                  >{{ data[column.key].value }}\n                </ng-container>\n                <div class=\"list-action\" *ngIf=\"column.type == 'action'\">\n                  <ng-container *ngFor=\"let action of actions; let i = index\">\n                    <button\n                      *ngIf=\"\n                        action.isButton && data[column.key][i] && action.img\n                      \"\n                      (click)=\"actionClicked({data, action: action.value});$event.stopPropagation()\"\n                      class=\"{{ action.className }}\"\n                    >\n                      <img [src]=\"action.img\" />\n                    </button>\n                    <div\n                      id=\"{{ id }}\"\n                      class=\"customdropdown\"\n                      *ngIf=\"action.isDropdown && data['actionDropdownItems']\"\n                    >\n                      <a\n                        aria-haspopup=\"listbox\"\n                        aria-labelledby=\"dropdown-label\"\n                        (click)=\"toggleDropdown(id); $event.stopPropagation()\"\n                        (clickOutside)=\"dropdownOpen = false\"\n                      >\n                        <img [src]=\"action.img\" />\n                      </a>\n                      <ul\n                        class=\"dropdown-list\"\n                        role=\"listbox\"\n                        aria-expanded=\"false\"\n                        [ngClass]=\"{\n                          'dropdown-open': dropdownOpen && id == clickedRow\n                        }\"\n                      >\n                        <li\n                          *ngFor=\"let o of data['actionDropdownItems']\"\n                          tabindex=\"0\"\n                          (click)=\"actionClicked({data, action: o.value});$event.stopPropagation()\"\n                          role=\"option\"\n                          [innerHTML]=\"o.key\"\n                        ></li>\n                      </ul>\n                    </div>\n                    <button\n                      *ngIf=\"\n                        !action.img && data[column.key][i] && action.isButton\n                      \"\n                      (click)=\"actionClicked({data, action: action.value});$event.stopPropagation()\"\n                      class=\"{{ action.className }}\"\n                    >\n                      {{ action.label }}\n                    </button>\n                  </ng-container>\n                </div>\n              </td>\n            </tr>\n            <tr class=\"expanded\" *ngFor=\"let order of data.linkedOrders\">\n              <td\n                [attr.data-label]=\"column.label\"\n                *ngFor=\"let column of columns\"\n                class=\"{{ column.className }}\"\n                [ngClass]=\"{\n                  'icon-td':\n                    column.type === 'img-text' || column.type === 'avatar',\n                  actions: column.type === 'action',\n                  linked: column.type === 'linked'\n                }\"\n              >\n                <ng-container *ngIf=\"column.type == 'linked'\">\n                  <span class=\"h-line\"></span>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'normal'\">\n                  {{ order[column.key].value }}\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge-with-date'\">\n                  {{ order[column.key].value }}\n                  <div>\n                    <small class=\"text-small grey-text\">{{\n                      order[column.key].badgeLabel\n                    }}</small>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'currency'\">\n                  {{ order[column.key].value | currency: column.currencyType }}\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'status'\">\n                  <!-- <span class=\"status {{ order[column.key].value }}\"></span> -->\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'img-progress'\">\n                  <div>\n                    <img\n                      *ngIf=\"order[column.key].img\"\n                      [src]=\"order[column.key].img\"\n                      alt=\"Flag\"\n                    />\n                    {{ order[column.key].label }}\n                  </div>\n                  <div class=\"progress-bar-lined\">\n                    <div\n                      class=\"progress-indication {{ order[column.key].status }}\"\n                      [ngStyle]=\"{ width: order[column.key].value }\"\n                    ></div>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'text-medium'\">\n                  <span class=\"text-medium\">{{ order[column.key].value }}</span>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'img-text'\">\n                  <div>\n                    <img\n                      src=\"{{ order[column.key].img }}\"\n                      alt=\"{{ column.label }}\"\n                    />\n                    {{ order[column.key].value }}\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'avatar'\">\n                  <div class=\"avatar {{ order[column.key].avatar }}\">\n                    <span>{{ order[column.key].value }}</span>\n                  </div>\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge'\">\n                  <label class=\"badge {{ order[column.key].value }}\">{{\n                    order[column.key].label\n                  }}</label>\n                  <img\n                    (click)=\"actionClicked({order, action: 'badge-img-click'});$event.stopPropagation()\"\n                    *ngIf=\"order[column.key].img\"\n                    class=\"mt2\"\n                    src=\"{{ order[column.key].img }}\"\n                    alt=\"{{ column.label }}\"\n                  />\n                </ng-container>\n                <ng-container *ngIf=\"column.type == 'badge-label'\">\n                  <span class=\"badge mr2 {{ order[column.key].status }}\"\n                    >&nbsp;{{ order[column.key].badgeLabel }}</span\n                  >{{ order[column.key].value }}\n                </ng-container>\n                <div class=\"list-action\" *ngIf=\"column.type == 'action'\">\n                  <ng-container *ngFor=\"let action of actions; let i = index\">\n                    <button\n                      *ngIf=\"\n                        action.isButton && order[column.key][i] && action.img\n                      \"\n                      (click)=\"actionClicked({order, action: action.value+'-linked'});$event.stopPropagation()\"\n                      class=\"{{ action.className }}\"\n                    >\n                      <img [src]=\"action.img\" />\n                    </button>\n                    <div\n                      id=\"{{ id }}\"\n                      class=\"customdropdown\"\n                      *ngIf=\"action.isDropdown && order['actionDropdownItems']\"\n                    >\n                      <a\n                        aria-haspopup=\"listbox\"\n                        aria-labelledby=\"dropdown-label\"\n                        (click)=\"toggleDropdown(id); $event.stopPropagation()\"\n                        (clickOutside)=\"dropdownOpen = false\"\n                      >\n                        <img [src]=\"action.img\" />\n                      </a>\n                      <ul\n                        class=\"dropdown-list\"\n                        role=\"listbox\"\n                        aria-expanded=\"false\"\n                        [ngClass]=\"{\n                          'dropdown-open': dropdownOpen && id == clickedRow\n                        }\"\n                      >\n                        <li\n                          *ngFor=\"let o of order['actionDropdownItems']\"\n                          tabindex=\"0\"\n                          (click)=\"actionClicked({order, action: o.value+'-linked'});$event.stopPropagation()\"\n                          role=\"option\"\n                          [innerHTML]=\"o.key\"\n                        ></li>\n                      </ul>\n                    </div>\n                    <button\n                      *ngIf=\"\n                        !action.img && order[column.key][i] && action.isButton\n                      \"\n                      (click)=\"actionClicked({order, action: action.value+'-linked'});$event.stopPropagation()\"\n                      class=\"{{ action.className }}\"\n                    >\n                      {{ action.label }}\n                    </button>\n                  </ng-container>\n                </div>\n              </td>\n            </tr>\n          </table>\n        </td>\n      </tr>\n    </ng-container>\n  </tbody>\n</table>\n" }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { sort: [{
                type: Input,
                args: ['sort']
            }], isLoading: [{
                type: Input,
                args: ['isLoading']
            }], customSortable: [{
                type: Input,
                args: ['customSortable']
            }], sortable: [{
                type: Input,
                args: ['sortable']
            }], columns: [{
                type: Input,
                args: ['columns']
            }], rows: [{
                type: Input,
                args: ['rows']
            }], actionDropdownItems: [{
                type: Input,
                args: ['actionDropdownItems']
            }], tableClass: [{
                type: Input,
                args: ['tableClass']
            }], tableId: [{
                type: Input,
                args: ['tableId']
            }], actions: [{
                type: Input,
                args: ['actions']
            }], customSort: [{
                type: Output,
                args: ['customSort']
            }], rowClick: [{
                type: Output,
                args: ['rowClick']
            }], currentValueChange: [{
                type: Output
            }], actionClick: [{
                type: Output,
                args: ['actionClick']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGF0dGVybi1saWIvc3JjL2xpYi90YWJsZS90YWJsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wYXR0ZXJuLWxpYi9zcmMvbGliL3RhYmxlL3RhYmxlLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQXNCLE1BQU0sZUFBZSxDQUFDOzs7O0FBVTNGLE1BQU0sT0FBTyxjQUFjO0lBb0J6QixZQUFvQixJQUFnQjtRQUFoQixTQUFJLEdBQUosSUFBSSxDQUFZO1FBakJoQixjQUFTLEdBQVksSUFBSSxDQUFDO1FBQ3JCLG1CQUFjLEdBQVksS0FBSyxDQUFDO1FBQ3RDLGFBQVEsR0FBWSxJQUFJLENBQUM7UUFJdkIsZUFBVSxHQUFXLEVBQUUsQ0FBQztRQUMzQixZQUFPLEdBQVcsVUFBVSxDQUFDO1FBRXpCLGVBQVUsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ2xDLGFBQVEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQzNDLGlCQUFZLEdBQVksS0FBSyxDQUFDO1FBQzNCLHVCQUFrQixHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFDM0IsZ0JBQVcsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO0lBSWhCLENBQUM7SUFGekMsSUFBVyxlQUFlLEtBQWMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsQ0FBQSxDQUFDLENBQUM7SUFJeEcsUUFBUTtRQUNOLG9EQUFvRDtRQUNwRCwrRUFBK0U7UUFDL0UsOEJBQThCO1FBQzlCLFFBQVE7UUFDUixrQkFBa0I7UUFDbEIsNENBQTRDO1FBQzVDLG9CQUFvQjtRQUNwQixPQUFPO1FBQ1AsSUFBSTtJQUNOLENBQUM7SUFFRCxlQUFlLENBQUMsSUFBUztRQUN2QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsYUFBYSxDQUFDLElBQVM7UUFDckIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVELGFBQWE7UUFDWCxJQUFJLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7SUFDNUIsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFVO1FBQ2YsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUlELGNBQWMsQ0FBQyxFQUFPO1FBQ3BCLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzNGLENBQUM7SUFFRCxZQUFZLENBQUMsTUFBbUI7UUFDOUIsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLE1BQU0sQ0FBQyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQzVELElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxFQUFFO2dCQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQzthQUMxQjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7YUFDekI7WUFDRCxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksU0FBUyxFQUFFO2dCQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQU0sRUFBRSxDQUFNLEVBQUUsRUFBRTtvQkFDaEMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUNqRCxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQ2pELE9BQU8sQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFDbEQsQ0FBQyxDQUFDLENBQUM7YUFDSjtZQUNELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUM7U0FDL0I7YUFBTSxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDOUIsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLEVBQUU7Z0JBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQzFCO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQzthQUN6QjtZQUNELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUM7WUFDOUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2pDO0lBQ0gsQ0FBQzs7MkdBckZVLGNBQWM7K0ZBQWQsY0FBYyw2YUNWM0IsaTllQTBXQTsyRkRoV2EsY0FBYztrQkFMMUIsU0FBUzsrQkFDRSxVQUFVO2lHQUtMLElBQUk7c0JBQWxCLEtBQUs7dUJBQUMsTUFBTTtnQkFFTyxTQUFTO3NCQUE1QixLQUFLO3VCQUFDLFdBQVc7Z0JBQ08sY0FBYztzQkFBdEMsS0FBSzt1QkFBQyxnQkFBZ0I7Z0JBQ0osUUFBUTtzQkFBMUIsS0FBSzt1QkFBQyxVQUFVO2dCQUNDLE9BQU87c0JBQXhCLEtBQUs7dUJBQUMsU0FBUztnQkFDRCxJQUFJO3NCQUFsQixLQUFLO3VCQUFDLE1BQU07Z0JBQ2lCLG1CQUFtQjtzQkFBaEQsS0FBSzt1QkFBQyxxQkFBcUI7Z0JBQ1AsVUFBVTtzQkFBOUIsS0FBSzt1QkFBQyxZQUFZO2dCQUNELE9BQU87c0JBQXhCLEtBQUs7dUJBQUMsU0FBUztnQkFDRSxPQUFPO3NCQUF4QixLQUFLO3VCQUFDLFNBQVM7Z0JBQ00sVUFBVTtzQkFBL0IsTUFBTTt1QkFBQyxZQUFZO2dCQUNBLFFBQVE7c0JBQTNCLE1BQU07dUJBQUMsVUFBVTtnQkFFUixrQkFBa0I7c0JBQTNCLE1BQU07Z0JBQ2dCLFdBQVc7c0JBQWpDLE1BQU07dUJBQUMsYUFBYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBPbkluaXQsIEVsZW1lbnRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFNvcnQgfSBmcm9tICcuLi8uLi9tb2RlbHMvc29ydCc7XG5pbXBvcnQgeyBUYWJsZUFjdGlvbiB9IGZyb20gJy4uLy4uL21vZGVscy90YWJsZS1hY3Rpb24nO1xuaW1wb3J0IHsgVGFibGVDb2x1bW4gfSBmcm9tICcuLi8uLi9tb2RlbHMvdGFibGUtY29sdW1uJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY2ItdGFibGUnLFxuICB0ZW1wbGF0ZVVybDogJy4vdGFibGUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi90YWJsZS5jb21wb25lbnQuc2NzcyddLFxufSlcbmV4cG9ydCBjbGFzcyBUYWJsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgnc29ydCcpIHNvcnQ6IFNvcnQ7IFxuICBzZWxlY3RlZFJvdzogYW55O1xuICBASW5wdXQoJ2lzTG9hZGluZycpIGlzTG9hZGluZzogYm9vbGVhbiA9IHRydWU7XG4gIEBJbnB1dCgnY3VzdG9tU29ydGFibGUnKSBjdXN0b21Tb3J0YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoJ3NvcnRhYmxlJykgc29ydGFibGU6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoJ2NvbHVtbnMnKSBjb2x1bW5zOiBUYWJsZUNvbHVtbltdO1xuICBASW5wdXQoJ3Jvd3MnKSByb3dzOiBhbnlbXTtcbiAgQElucHV0KCdhY3Rpb25Ecm9wZG93bkl0ZW1zJykgYWN0aW9uRHJvcGRvd25JdGVtczogYW55W107XG4gIEBJbnB1dCgndGFibGVDbGFzcycpIHRhYmxlQ2xhc3M6IHN0cmluZyA9ICcnO1xuICBASW5wdXQoJ3RhYmxlSWQnKSB0YWJsZUlkOiBzdHJpbmcgPSAnY2ItdGFibGUnO1xuICBASW5wdXQoJ2FjdGlvbnMnKSBhY3Rpb25zOiBUYWJsZUFjdGlvbltdO1xuICBAT3V0cHV0KCdjdXN0b21Tb3J0JykgY3VzdG9tU29ydCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgncm93Q2xpY2snKSByb3dDbGljayA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgcHVibGljIGRyb3Bkb3duT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuICBAT3V0cHV0KCkgY3VycmVudFZhbHVlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCdhY3Rpb25DbGljaycpIGFjdGlvbkNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBwdWJsaWMgY2xpY2tlZFJvdzogbnVtYmVyXG4gIHB1YmxpYyBnZXQgZHJvcGRvd25FbGVtZW50KCk6IEVsZW1lbnQgeyByZXR1cm4gdGhpcy5lbGVtLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duLWxpc3QnKSB9XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtOiBFbGVtZW50UmVmKSB7IH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICAvLyBpZiAodGhpcy5jb2x1bW5zICE9IHVuZGVmaW5lZCAmJiB0aGlzLnNvcnRhYmxlKSB7XG4gICAgLy8gICBsZXQgZmlyc3Rfc29ydGFibGVfY29sdW1uID0gdGhpcy5jb2x1bW5zLmZpbHRlcigoY29sdW1uOiBUYWJsZUNvbHVtbikgPT4ge1xuICAgIC8vICAgICByZXR1cm4gY29sdW1uLnNvcnRhYmxlO1xuICAgIC8vICAgfSk7XG4gICAgLy8gICB0aGlzLnNvcnQgPSB7XG4gICAgLy8gICAgIGNvbHVtbjogZmlyc3Rfc29ydGFibGVfY29sdW1uWzBdLmtleSxcbiAgICAvLyAgICAgZGlyZWN0aW9uOiAxLFxuICAgIC8vICAgfTtcbiAgICAvLyB9XG4gIH1cblxuICBvblJvd0l0ZW1DbGljazEoZGF0YTogYW55KSB7XG4gICAgdGhpcy5zZWxlY3RlZFJvdyA9IGRhdGE7XG4gICAgdGhpcy5yb3dDbGljay5lbWl0KGRhdGEpO1xuICB9XG5cbiAgYWN0aW9uQ2xpY2tlZChkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmFjdGlvbkNsaWNrLmVtaXQoZGF0YSk7XG4gIH1cblxuICBjbG9zZURyb3Bkb3duKCkge1xuICAgIHRoaXMuZHJvcGRvd25FbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFwiZmFsc2VcIik7XG4gICAgdGhpcy5kcm9wZG93bk9wZW4gPSBmYWxzZTtcbiAgfVxuXG4gIHNlbGVjdCh2YWx1ZTogYW55KSB7XG4gICAgdGhpcy5jbG9zZURyb3Bkb3duKCk7XG4gICAgdGhpcy5jdXJyZW50VmFsdWVDaGFuZ2UuZW1pdCh2YWx1ZSk7XG4gIH1cblxuXG5cbiAgdG9nZ2xlRHJvcGRvd24oaWQ6IGFueSkge1xuICAgIHRoaXMuY2xpY2tlZFJvdyA9IGlkO1xuICAgIHRoaXMuZHJvcGRvd25PcGVuID0gIXRoaXMuZHJvcGRvd25PcGVuO1xuICAgIHRoaXMuZHJvcGRvd25FbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRoaXMuZHJvcGRvd25PcGVuID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xuICB9XG5cbiAgb25Tb3J0Q29sdW1uKGNvbHVtbjogVGFibGVDb2x1bW4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zb3J0YWJsZSAmJiBjb2x1bW4uc29ydGFibGUgJiYgIXRoaXMuY3VzdG9tU29ydGFibGUpIHtcbiAgICAgIGlmICh0aGlzLnNvcnQuZGlyZWN0aW9uID09IDEpIHtcbiAgICAgICAgdGhpcy5zb3J0LmRpcmVjdGlvbiA9IC0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zb3J0LmRpcmVjdGlvbiA9IDE7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yb3dzICE9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnJvd3Muc29ydCgoYTogYW55LCBiOiBhbnkpID0+IHtcbiAgICAgICAgICBhID0gYVtjb2x1bW4ua2V5XS52YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgYiA9IGJbY29sdW1uLmtleV0udmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYikgKiB0aGlzLnNvcnQuZGlyZWN0aW9uO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc29ydC5jb2x1bW4gPSBjb2x1bW4ua2V5O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jdXN0b21Tb3J0YWJsZSkge1xuICAgICAgaWYgKHRoaXMuc29ydC5kaXJlY3Rpb24gPT0gMSkge1xuICAgICAgICB0aGlzLnNvcnQuZGlyZWN0aW9uID0gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNvcnQuZGlyZWN0aW9uID0gMTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc29ydC5jb2x1bW4gPSBjb2x1bW4ua2V5O1xuICAgICAgdGhpcy5jdXN0b21Tb3J0LmVtaXQodGhpcy5zb3J0KTtcbiAgICB9XG4gIH1cbn1cbiIsIjx0YWJsZSBjbGFzcz1cInRhYmxlIHt7IHRhYmxlQ2xhc3MgfX1cIiBpZD1cInt7IHRhYmxlSWQgfX1cIj5cbiAgPHRoZWFkPlxuICAgIDx0cj5cbiAgICAgIDx0aCBjb2xzcGFuPVwiMTRcIiBjbGFzcz1cImNvbHNwYW5lZFwiPlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJuZXN0ZWQtdGFibGVcIj5cbiAgICAgICAgICA8Y29sZ3JvdXA+XG4gICAgICAgICAgICA8Y29sXG4gICAgICAgICAgICAgIGNsYXNzPVwie3sgY29sdW1uLmNsYXNzTmFtZSB9fVwiXG4gICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgY29sdW1uc1wiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvY29sZ3JvdXA+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgY29sdW1uc1wiXG4gICAgICAgICAgICAgIChjbGljayk9XCJvblNvcnRDb2x1bW4oY29sdW1uKVwiXG4gICAgICAgICAgICAgIGNsYXNzPVwie3sgY29sdW1uLmNsYXNzTmFtZSB9fVwiXG4gICAgICAgICAgICAgIFtuZ0NsYXNzXT1cIntcbiAgICAgICAgICAgICAgICBzb3J0OiBjb2x1bW4uc29ydGFibGUgJiYgc29ydGFibGVcbiAgICAgICAgICAgICAgfVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4udHlwZSAhPSAnYWN0aW9uJ1wiPlxuICAgICAgICAgICAgICAgIHt7IGNvbHVtbi5sYWJlbCB9fVxuICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICAgICAgICAgIHNvcnQuY29sdW1uID09IGNvbHVtbi5rZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgc29ydC5kaXJlY3Rpb24gPT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uc29ydGFibGUgJiZcbiAgICAgICAgICAgICAgICAgICAgc29ydGFibGVcbiAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICBzcmM9XCIuL2Fzc2V0cy9pY29ucy9hcnJvd2Rvd24uc3ZnXCJcbiAgICAgICAgICAgICAgICAgIGFsdD1cImFzY1wiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAqbmdJZj1cIlxuICAgICAgICAgICAgICAgICAgICBzb3J0LmNvbHVtbiA9PSBjb2x1bW4ua2V5ICYmXG4gICAgICAgICAgICAgICAgICAgIHNvcnQuZGlyZWN0aW9uID09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5zb3J0YWJsZSAmJlxuICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZVxuICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgIHNyYz1cIi4vYXNzZXRzL2ljb25zL2Fycm93dXAuc3ZnXCJcbiAgICAgICAgICAgICAgICAgIGFsdD1cImRlc2NcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gJ2FjdGlvbidcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInNldHRpbmdzLWJ0blwiXG4gICAgICAgICAgICAgICAgICAqbmdJZj1cImNvbHVtbi5sYWJlbCA9PT0gJycgJiYgY29sdW1uLnNob3dHZWFyXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vYXNzZXRzL2ljb25zL25hdi1iYXIvc2V0dGluZ3Muc3ZnXCIgLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLmxhYmVsICE9PSAnJ1wiPnt7XG4gICAgICAgICAgICAgICAgICBjb2x1bW4ubGFiZWxcbiAgICAgICAgICAgICAgICB9fTwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvdGg+XG4gICAgPC90cj5cbiAgPC90aGVhZD5cbiAgPHRib2R5PlxuICAgIDx0ciBjbGFzcz1cIm5vLWRhdGEtcm93XCIgKm5nSWY9XCJyb3dzLmxlbmd0aCA9PT0gMCAmJiAhaXNMb2FkaW5nXCI+XG4gICAgICA8dGQgY29sc3Bhbj1cIjEzXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dFwiPk5vIHJlY29yZHMgYXZhaWxhYmxlITwvc3Bhbj5cbiAgICAgIDwvdGQ+XG4gICAgPC90cj5cbiAgICA8bmctY29udGFpbmVyICpuZ0lmPVwicm93cy5sZW5ndGggPiAwXCI+XG4gICAgICA8dHJcbiAgICAgICAgY2xhc3M9XCJleHBhbmRhYmxlXCJcbiAgICAgICAgKm5nRm9yPVwibGV0IGRhdGEgb2Ygcm93czsgbGV0IGlkID0gaW5kZXhcIlxuICAgICAgICAoY2xpY2spPVwib25Sb3dJdGVtQ2xpY2sxKGRhdGEpXCJcbiAgICAgID5cbiAgICAgICAgPHRkIGNvbHNwYW49XCIxNFwiIGNsYXNzPVwiY29sc3BhbmVkXCI+XG4gICAgICAgICAgPHRhYmxlIGNsYXNzPVwibmVzdGVkLXRhYmxlXCI+XG4gICAgICAgICAgICA8Y29sZ3JvdXA+XG4gICAgICAgICAgICAgIDxjb2xcbiAgICAgICAgICAgICAgICBjbGFzcz1cInt7IGNvbHVtbi5jbGFzc05hbWUgfX1cIlxuICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgY29sdW1uc1wiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2NvbGdyb3VwPlxuICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICBbYXR0ci5kYXRhLWxhYmVsXT1cImNvbHVtbi5sYWJlbFwiXG4gICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGNvbHVtbiBvZiBjb2x1bW5zXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInt7IGNvbHVtbi5jbGFzc05hbWUgfX1cIlxuICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cIntcbiAgICAgICAgICAgICAgICAgICdpY29uLXRkJzpcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnR5cGUgPT09ICdpbWctdGV4dCcgfHwgY29sdW1uLnR5cGUgPT09ICdhdmF0YXInLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uczogY29sdW1uLnR5cGUgPT09ICdhY3Rpb24nXG4gICAgICAgICAgICAgICAgfVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gJ2xpbmtlZCdcIj5cbiAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZGF0YVtjb2x1bW4ua2V5XS5pbWdcIlxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiYWN0aW9uQ2xpY2tlZCh7ZGF0YSwgYWN0aW9uOiAnbGlua2VkLWNsaWNrJ30pOyRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibGluay1pY29uXCJcbiAgICAgICAgICAgICAgICAgICAgPjxpbWcgc3JjPVwie3sgZGF0YVtjb2x1bW4ua2V5XS5pbWcgfX1cIiBhbHQ9XCJMaW5rXCJcbiAgICAgICAgICAgICAgICAgIC8+PC9hPlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4udHlwZSA9PSAnbm9ybWFsJ1wiPlxuICAgICAgICAgICAgICAgICAge3sgZGF0YVtjb2x1bW4ua2V5XS52YWx1ZSB9fVxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4udHlwZSA9PSAnYmFkZ2Utd2l0aC1kYXRlJ1wiPlxuICAgICAgICAgICAgICAgICAge3sgZGF0YVtjb2x1bW4ua2V5XS52YWx1ZSB9fVxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwidGV4dC1zbWFsbCBncmV5LXRleHRcIj57e1xuICAgICAgICAgICAgICAgICAgICAgIGRhdGFbY29sdW1uLmtleV0uYmFkZ2VMYWJlbFxuICAgICAgICAgICAgICAgICAgICB9fTwvc21hbGw+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gJ2N1cnJlbmN5J1wiPlxuICAgICAgICAgICAgICAgICAge3sgZGF0YVtjb2x1bW4ua2V5XS52YWx1ZSB8IGN1cnJlbmN5OiBjb2x1bW4uY3VycmVuY3lUeXBlIH19XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi50eXBlID09ICdzdGF0dXMnXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXR1cyB7eyBkYXRhW2NvbHVtbi5rZXldLnZhbHVlIH19XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4udHlwZSA9PSAnaW1nLXByb2dyZXNzJ1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZGF0YVtjb2x1bW4ua2V5XS5pbWdcIlxuICAgICAgICAgICAgICAgICAgICAgIFtzcmNdPVwiZGF0YVtjb2x1bW4ua2V5XS5pbWdcIlxuICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIkZsYWdcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7eyBkYXRhW2NvbHVtbi5rZXldLmxhYmVsIH19XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXItbGluZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicHJvZ3Jlc3MtaW5kaWNhdGlvbiB7eyBkYXRhW2NvbHVtbi5rZXldLnN0YXR1cyB9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgW25nU3R5bGVdPVwieyB3aWR0aDogZGF0YVtjb2x1bW4ua2V5XS52YWx1ZSB9XCJcbiAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi50eXBlID09ICd0ZXh0LW1lZGl1bSdcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1tZWRpdW1cIj57eyBkYXRhW2NvbHVtbi5rZXldLnZhbHVlIH19PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4udHlwZSA9PSAnaW1nLXRleHQnXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPVwie3sgZGF0YVtjb2x1bW4ua2V5XS5pbWcgfX1cIlxuICAgICAgICAgICAgICAgICAgICAgIGFsdD1cInt7IGNvbHVtbi5sYWJlbCB9fVwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIHt7IGRhdGFbY29sdW1uLmtleV0udmFsdWUgfX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4udHlwZSA9PSAnYXZhdGFyJ1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF2YXRhciB7eyBkYXRhW2NvbHVtbi5rZXldLmF2YXRhciB9fVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57eyBkYXRhW2NvbHVtbi5rZXldLnZhbHVlIH19PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi50eXBlID09ICdiYWRnZSdcIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJhZGdlIHt7IGRhdGFbY29sdW1uLmtleV0udmFsdWUgfX1cIj57e1xuICAgICAgICAgICAgICAgICAgICBkYXRhW2NvbHVtbi5rZXldLmxhYmVsXG4gICAgICAgICAgICAgICAgICB9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJhY3Rpb25DbGlja2VkKHtkYXRhLCBhY3Rpb246ICdiYWRnZS1pbWctY2xpY2snfSk7JGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJkYXRhW2NvbHVtbi5rZXldLmltZ1wiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibXQyXCJcbiAgICAgICAgICAgICAgICAgICAgc3JjPVwie3sgZGF0YVtjb2x1bW4ua2V5XS5pbWcgfX1cIlxuICAgICAgICAgICAgICAgICAgICBhbHQ9XCJ7eyBjb2x1bW4ubGFiZWwgfX1cIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gJ2JhZGdlLWxhYmVsJ1wiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZSBtcjIge3sgZGF0YVtjb2x1bW4ua2V5XS5zdGF0dXMgfX1cIlxuICAgICAgICAgICAgICAgICAgICA+Jm5ic3A7e3sgZGF0YVtjb2x1bW4ua2V5XS5iYWRnZUxhYmVsIH19PC9zcGFuXG4gICAgICAgICAgICAgICAgICA+e3sgZGF0YVtjb2x1bW4ua2V5XS52YWx1ZSB9fVxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaXN0LWFjdGlvblwiICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gJ2FjdGlvbidcIj5cbiAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGFjdGlvbiBvZiBhY3Rpb25zOyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmlzQnV0dG9uICYmIGRhdGFbY29sdW1uLmtleV1baV0gJiYgYWN0aW9uLmltZ1xuICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImFjdGlvbkNsaWNrZWQoe2RhdGEsIGFjdGlvbjogYWN0aW9uLnZhbHVlfSk7JGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInt7IGFjdGlvbi5jbGFzc05hbWUgfX1cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGltZyBbc3JjXT1cImFjdGlvbi5pbWdcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwie3sgaWQgfX1cIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY3VzdG9tZHJvcGRvd25cIlxuICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiYWN0aW9uLmlzRHJvcGRvd24gJiYgZGF0YVsnYWN0aW9uRHJvcGRvd25JdGVtcyddXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwibGlzdGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJkcm9wZG93bi1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwidG9nZ2xlRHJvcGRvd24oaWQpOyAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrT3V0c2lkZSk9XCJkcm9wZG93bk9wZW4gPSBmYWxzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBbc3JjXT1cImFjdGlvbi5pbWdcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICA8dWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZHJvcGRvd24tbGlzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwibGlzdGJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwie1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnZHJvcGRvd24tb3Blbic6IGRyb3Bkb3duT3BlbiAmJiBpZCA9PSBjbGlja2VkUm93XG4gICAgICAgICAgICAgICAgICAgICAgICB9XCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IG8gb2YgZGF0YVsnYWN0aW9uRHJvcGRvd25JdGVtcyddXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImFjdGlvbkNsaWNrZWQoe2RhdGEsIGFjdGlvbjogby52YWx1ZX0pOyRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJvcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBbaW5uZXJIVE1MXT1cIm8ua2V5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgID48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICFhY3Rpb24uaW1nICYmIGRhdGFbY29sdW1uLmtleV1baV0gJiYgYWN0aW9uLmlzQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiYWN0aW9uQ2xpY2tlZCh7ZGF0YSwgYWN0aW9uOiBhY3Rpb24udmFsdWV9KTskZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwie3sgYWN0aW9uLmNsYXNzTmFtZSB9fVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7eyBhY3Rpb24ubGFiZWwgfX1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8dHIgY2xhc3M9XCJleHBhbmRlZFwiICpuZ0Zvcj1cImxldCBvcmRlciBvZiBkYXRhLmxpbmtlZE9yZGVyc1wiPlxuICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICBbYXR0ci5kYXRhLWxhYmVsXT1cImNvbHVtbi5sYWJlbFwiXG4gICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGNvbHVtbiBvZiBjb2x1bW5zXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInt7IGNvbHVtbi5jbGFzc05hbWUgfX1cIlxuICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cIntcbiAgICAgICAgICAgICAgICAgICdpY29uLXRkJzpcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnR5cGUgPT09ICdpbWctdGV4dCcgfHwgY29sdW1uLnR5cGUgPT09ICdhdmF0YXInLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uczogY29sdW1uLnR5cGUgPT09ICdhY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgbGlua2VkOiBjb2x1bW4udHlwZSA9PT0gJ2xpbmtlZCdcbiAgICAgICAgICAgICAgICB9XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4udHlwZSA9PSAnbGlua2VkJ1wiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJoLWxpbmVcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi50eXBlID09ICdub3JtYWwnXCI+XG4gICAgICAgICAgICAgICAgICB7eyBvcmRlcltjb2x1bW4ua2V5XS52YWx1ZSB9fVxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4udHlwZSA9PSAnYmFkZ2Utd2l0aC1kYXRlJ1wiPlxuICAgICAgICAgICAgICAgICAge3sgb3JkZXJbY29sdW1uLmtleV0udmFsdWUgfX1cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cInRleHQtc21hbGwgZ3JleS10ZXh0XCI+e3tcbiAgICAgICAgICAgICAgICAgICAgICBvcmRlcltjb2x1bW4ua2V5XS5iYWRnZUxhYmVsXG4gICAgICAgICAgICAgICAgICAgIH19PC9zbWFsbD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4udHlwZSA9PSAnY3VycmVuY3knXCI+XG4gICAgICAgICAgICAgICAgICB7eyBvcmRlcltjb2x1bW4ua2V5XS52YWx1ZSB8IGN1cnJlbmN5OiBjb2x1bW4uY3VycmVuY3lUeXBlIH19XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi50eXBlID09ICdzdGF0dXMnXCI+XG4gICAgICAgICAgICAgICAgICA8IS0tIDxzcGFuIGNsYXNzPVwic3RhdHVzIHt7IG9yZGVyW2NvbHVtbi5rZXldLnZhbHVlIH19XCI+PC9zcGFuPiAtLT5cbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gJ2ltZy1wcm9ncmVzcydcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIm9yZGVyW2NvbHVtbi5rZXldLmltZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgW3NyY109XCJvcmRlcltjb2x1bW4ua2V5XS5pbWdcIlxuICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIkZsYWdcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7eyBvcmRlcltjb2x1bW4ua2V5XS5sYWJlbCB9fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyLWxpbmVkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInByb2dyZXNzLWluZGljYXRpb24ge3sgb3JkZXJbY29sdW1uLmtleV0uc3RhdHVzIH19XCJcbiAgICAgICAgICAgICAgICAgICAgICBbbmdTdHlsZV09XCJ7IHdpZHRoOiBvcmRlcltjb2x1bW4ua2V5XS52YWx1ZSB9XCJcbiAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi50eXBlID09ICd0ZXh0LW1lZGl1bSdcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1tZWRpdW1cIj57eyBvcmRlcltjb2x1bW4ua2V5XS52YWx1ZSB9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gJ2ltZy10ZXh0J1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgIHNyYz1cInt7IG9yZGVyW2NvbHVtbi5rZXldLmltZyB9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgYWx0PVwie3sgY29sdW1uLmxhYmVsIH19XCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAge3sgb3JkZXJbY29sdW1uLmtleV0udmFsdWUgfX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4udHlwZSA9PSAnYXZhdGFyJ1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF2YXRhciB7eyBvcmRlcltjb2x1bW4ua2V5XS5hdmF0YXIgfX1cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3sgb3JkZXJbY29sdW1uLmtleV0udmFsdWUgfX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gJ2JhZGdlJ1wiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYmFkZ2Uge3sgb3JkZXJbY29sdW1uLmtleV0udmFsdWUgfX1cIj57e1xuICAgICAgICAgICAgICAgICAgICBvcmRlcltjb2x1bW4ua2V5XS5sYWJlbFxuICAgICAgICAgICAgICAgICAgfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiYWN0aW9uQ2xpY2tlZCh7b3JkZXIsIGFjdGlvbjogJ2JhZGdlLWltZy1jbGljayd9KTskZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIm9yZGVyW2NvbHVtbi5rZXldLmltZ1wiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibXQyXCJcbiAgICAgICAgICAgICAgICAgICAgc3JjPVwie3sgb3JkZXJbY29sdW1uLmtleV0uaW1nIH19XCJcbiAgICAgICAgICAgICAgICAgICAgYWx0PVwie3sgY29sdW1uLmxhYmVsIH19XCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi50eXBlID09ICdiYWRnZS1sYWJlbCdcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2UgbXIyIHt7IG9yZGVyW2NvbHVtbi5rZXldLnN0YXR1cyB9fVwiXG4gICAgICAgICAgICAgICAgICAgID4mbmJzcDt7eyBvcmRlcltjb2x1bW4ua2V5XS5iYWRnZUxhYmVsIH19PC9zcGFuXG4gICAgICAgICAgICAgICAgICA+e3sgb3JkZXJbY29sdW1uLmtleV0udmFsdWUgfX1cbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGlzdC1hY3Rpb25cIiAqbmdJZj1cImNvbHVtbi50eXBlID09ICdhY3Rpb24nXCI+XG4gICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBhY3Rpb24gb2YgYWN0aW9uczsgbGV0IGkgPSBpbmRleFwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5pc0J1dHRvbiAmJiBvcmRlcltjb2x1bW4ua2V5XVtpXSAmJiBhY3Rpb24uaW1nXG4gICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiYWN0aW9uQ2xpY2tlZCh7b3JkZXIsIGFjdGlvbjogYWN0aW9uLnZhbHVlKyctbGlua2VkJ30pOyRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ7eyBhY3Rpb24uY2xhc3NOYW1lIH19XCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbWcgW3NyY109XCJhY3Rpb24uaW1nXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cInt7IGlkIH19XCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImN1c3RvbWRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImFjdGlvbi5pc0Ryb3Bkb3duICYmIG9yZGVyWydhY3Rpb25Ecm9wZG93bkl0ZW1zJ11cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJsaXN0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImRyb3Bkb3duLWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJ0b2dnbGVEcm9wZG93bihpZCk7ICRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2tPdXRzaWRlKT1cImRyb3Bkb3duT3BlbiA9IGZhbHNlXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIFtzcmNdPVwiYWN0aW9uLmltZ1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgIDx1bFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkcm9wZG93bi1saXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJsaXN0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdkcm9wZG93bi1vcGVuJzogZHJvcGRvd25PcGVuICYmIGlkID09IGNsaWNrZWRSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgbyBvZiBvcmRlclsnYWN0aW9uRHJvcGRvd25JdGVtcyddXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImFjdGlvbkNsaWNrZWQoe29yZGVyLCBhY3Rpb246IG8udmFsdWUrJy1saW5rZWQnfSk7JGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cIm9wdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtpbm5lckhUTUxdPVwiby5rZXlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgIWFjdGlvbi5pbWcgJiYgb3JkZXJbY29sdW1uLmtleV1baV0gJiYgYWN0aW9uLmlzQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiYWN0aW9uQ2xpY2tlZCh7b3JkZXIsIGFjdGlvbjogYWN0aW9uLnZhbHVlKyctbGlua2VkJ30pOyRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ7eyBhY3Rpb24uY2xhc3NOYW1lIH19XCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHt7IGFjdGlvbi5sYWJlbCB9fVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICA8L25nLWNvbnRhaW5lcj5cbiAgPC90Ym9keT5cbjwvdGFibGU+XG4iXX0=